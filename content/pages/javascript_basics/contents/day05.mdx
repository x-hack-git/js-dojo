---
title: JavaScript基礎講座 5日目
slug: "/javascript_basics/day05"
---

# 【5日目】オブジェクトの解説続き

今回、かなり難しいです。特に**スコープ、グローバルオブジェクト、this**。
このあたりは、繰り返し説明する予定ですので、今は完全に理解できなくてもOKです！

前日の資料はこちら
[+JavaScript道場：四日目 / オブジェクトについて](/tutorials/4th_day)

## 用語集
- consoleオブジェクト
- key: value
- `this`
- オブジェクト内のスコープ

## 前回の復習

前回は下記のようなコードを書きましたね！

**「オブジェクト」** と **「プロパティ」** という名前に慣れてください。

```
var matsudaShinsuke = { name: "松田信介" } // ここがプロパティ keyは`name` valueは`松田信介`
obj.name // これもプロパティ(nameは `objオブジェクト`のプロパティ)
```

## consoleオブジェクトについて

### では、何度か登場している下記のコードについて質問です！

何度も登場していますコチラのコード

```
console.log("HELLO")
```

### ところで、**console**とはなんでしょう？

`console`とは なんでしょうか？
`.log` とは なんでしょうか？
`("hello")`  とはなんでしょうか？

```
// Chrome: Consoleタブで実行してみよう
　　　
typeof console
// "object
　　　　
typeof console.log
// "function"
　　　
// ("hello") についてはまだ説明していませんが、関数に引数を与えて実行しています。次回やります。
```

![consoleはオブジェクトが格納された変数](~/assets/images/05day_01.png)

## `console`は`オブジェクト`、そして`log`はconsoleオブジェクトが持つプロパティなのだった！

`console`についての詳しい説明はこちら。ちょっと読んでみて下さい！
- [consoleオブジェクト](~/assets/images/05day_02.png)

## グローバルオブジェクト
聞き慣れない言葉が出てきました。グローバルオブジェクトです。

百聞は一見に如かず、まずはいつものようにconsoleタブで試してみます。

```
// Chrome: Consoleタブで実行してみよう
　　
var a = 100
console.log(a) // 100
console.log(this.a) // 100
　　　
// this.a の中身を書き換えてみる
this.a = 200
console.log(a) // 200
console.log(this.a) // 200
```

## では、ここの`this`とはなんでしょう？

```
// Chrome: Consoleタブで実行してみよう
　　　
this
```

注: Chromeブラウザの場合です。JavaScriptは実行されるブラウザによって挙動が違う場合があります。

![](~/assets/images/05day_03.png)

`this`はオブジェクトでした！そして、これが **グローバルオブジェクト** です。

### ポイント
- 変数をvarで生成した時、グローバルオブジェクトに登録される(グローバルオブジェクトのプロパティになる)
- consoleもグローバルオブジェクトのプロパティ


## consoleもグローバルオブジェクトのプロパティ

そのため、`this`を使って参照ができます(グローバルスコープでは・・・)
![](~/assets/images/05day_04.png)

これでもいける！
![](~/assets/images/05day_05.png)

これもいける！

```
// Chrome: Consoleタブで実行してみよう
　　　
this.window.console.log("hello")
```

どうやら同じ動きをするようですね。(同じオブジェクトを指している・・・？)

```
// Chrome: Consoleタブで実行してみよう
// 全部同じ意味です！
　　　　　　
console.log("hello")
this.console.log("hello")
window.console.log("hello")
this.window.console.log("hello")
```

では下記のように書くとどうなるでしょうか？

```
// Chrome: Consoleタブで実行してみよう
　　　　
// オブジェクトの中に二つ関数があり、関数内でthisを使う
var obj = {
    test_a: function() {
    // thisなし
    console.log("hello")
    },
    test_b: function() {
    // thisあり
    this.console.log("hello")
    }
}
```

`test_a()` は問題なしで、`test_b()` はエラーになります。`this`が何を指すか変わるからです。
エラーメッセージに`Cannot read property`と出力されていますね。

![](~/assets/images/05day_06.png)


これならOK

```
// Chrome: Consoleタブで実行してみよう
　　
var obj = {
    test_a: function() {
    // tihsなし
    console.log("hello")
    },
    test_b: function() {
    // this ではなく window を使う
    window.console.log("hello")
    }
}
```

## `this`は呼び出される場所でどのオブジェクトを指すかが変わる

かなり難しい話をしていますので、現時点では分からなくても大丈夫です！

ここをちゃんと理解するためには、「変数のスコープ」「グローバルオブジェクト」にについて理解する必要があります。

次回は、その「変数のスコープ」について解説します！

## 大事なこと

全てを順を追って説明するのがどうしても難しいため、説明が行ったり来たりします。
**今の段階では、完璧に理解しようとしないでください。** まずは、オブジェクト、プロパティ、スコープなどの単語に慣れることから始めてください。

## まとめ

- いつも使っている`console`は、`オブジェクト`だった
- `console.log`はconsoleオブジェクトが持つ`log`という名前のプロパティ（メソッド）
- `console.log("hello")` 以外にも `console.clear()` などがある
- `console`自体も`window`というグローバルオブジェクトのプロパティなので、`window.console.log("hello")` で呼び出すことができる
- グローバルオブジェクトのプロパティに`this`を使ってアクセスする際は、`スコープ` を意識する必要がある

難しいですね！！難しいので現時点で理解できなくても全く問題ないです！！それではまた明日！！

**明日は「関数」の説明に入ります！**

## 前回の課題の回答
↓↓まだ答えてない方はコチラから！↓↓
[答えてみる](https://docs.google.com/forms/d/e/1FAIpQLSdNqzYZePcD-L5YzFeQrFvMPiYG-in89e_fQJoPUoeHeASghQ/viewform?usp=send_form)

### 二進数 10011001 を十進数に変換するといくつでしょう
答え → 153

#### 解説

```
1    0    0    1    1   0   0   1  // 10011001
128  64   32   16   8   4   2   1  // それぞれの桁を10進法に直す
128  0    0    16   8   0   0   1  // ビットが立っている箇所だけ足す 128+16+8+1=153
```

#### 分からない人のためにさらに解説

時計は60進法ですね(60で桁が上がる 0-59 の数字を使う)
0:59 → 1:00
1:59 → 2:00

二進法は `0,1` の2つの数字を用いて表す
十進法は `0,1,2,3,4,5,6,7,8,9` の 10個の数字を用いて表す
十六進法は `0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f` の 16個の数字を用いて表す

またはJavaScriptで

```
// Chrome: Consoleタブで実行してみよう
　　
// parseInt は 十進数に変換ができる関数
console.log(parseInt(10011001, 2)); // 153
```

### UTF-8とは何か説明してください
「文字に割り当てた番号」と「実際にコンピュータさんが扱う数字」の対応表。 **「文字符号化方式」** の一つ。[文字コード](https://wa3.i-3-i.info/word137.html)は「[文字](https://wa3.i-3-i.info/word1435.html)に割り当てられた数字」。文字符号化方式としてUTF-8を使うときの符号化文字集合は[Unicode](https://wa3.i-3-i.info/word11422.html)。

- **符号化文字集合：Unicode**
- **文字符号化方式：UTF-8**

(参照)[コチラ](https://wa3.i-3-i.info/word1812.html)から引用しました！

自分なりに理解していればOKです。

### 動的型付け言語のメリットとデメリットを教えてください
#### メリット
- 型の生成が不要
- コンパイルが必要ない
- 柔軟に開発ができる
- 記述量が少なくてすむ
    
#### デメリット
- どんな型でも変数に入ってしまうため、変数にどんなデータが入っているか分かり辛い
- 暗黙の型変換で予想外の挙動をする)
- メモリ効率が悪い(メモリ領域の最適化が行えない)
- エラーが実行時までわからない
- 実行速度が比較的遅い

### **3Byte**で何通りの色を表現できますか？
3Byte = 24bit = 24桁

```
// 00000000 00000000 00000000 ~ 11111111 11111111 11111111
2**24 // 2の2４乗
16777216 // 1677万7216色
```


## 明日はこちら
[+JavaScript道場：六日目 / 関数について❶](/tutorials/6th_day)
